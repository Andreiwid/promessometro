"use strict";
!function(t){
	t.fn.circliful=function(e,o){
		var r=t.extend({foregroundColor:"#3498DB",
			backgroundColor:"#ccc",
			pointColor:"none",
			fillColor:"none",
			foregroundBorderWidth:15,
			backgroundBorderWidth:15,
			pointSize:28.5,
			fontColor:"#aaa",
			percent:75,
			animation:1,
			animationStep:5,
			icon:"none",
			iconSize:"30",
			iconColor:"#ccc",
			iconPosition:"top",
			target:0,start:0,
			showPercent:1,
			percentageTextSize:22,
			textAdditionalCss:"",
			targetPercent:0,
			targetTextSize:17,
			targetColor:"#2980B9",
			text:null,textStyle:null,
			textColor:"#666",
			multiPercentage:0,
			percentages:null,
			textBelow:!1
		},
		e);
		return this.each(function(){
			var e,n,i,l=t(this),
			c=r.percent,
			a=83,
			s=100,
			d=110,
			x=100,
			g=r.backgroundBorderWidth;
			"bottom"==r.iconPosition?(a=124,d=95):
			"left"==r.iconPosition?(s=80,a=110,x=117):
			"middle"==r.iconPosition?1==r.multiPercentage?(console.log("object"==typeof r.percentages),
				"object"==typeof r.percentages?g=30:(a=110,n='<g stroke="'+
					("none"!=r.backgroundColor?r.backgroundColor:"#ccc")+
					'" ><line x1="133" y1="50" x2="140" y2="40" stroke-width="2"  /></g>',
					n+='<g stroke="'+
					("none"!=r.backgroundColor?r.backgroundColor:"#ccc")+
					'" ><line x1="140" y1="40" x2="200" y2="40" stroke-width="2"  /></g>',x=228,d=47)):
			(a=110,n='<g stroke="'+("none"!=r.backgroundColor?r.backgroundColor:"#ccc")+
				'" ><line x1="133" y1="50" x2="140" y2="40" stroke-width="2"  /></g>',
				n+='<g stroke="'+("none"!=r.backgroundColor?r.backgroundColor:"#ccc")+
				'" ><line x1="140" y1="40" x2="200" y2="40" stroke-width="2"  /></g>',
				x=175,
				d=35):"right"==r.iconPosition&&(s=120,a=110,x=80),
			r.targetPercent>0&&(d=95,n='<g stroke="'+("none"!=r.backgroundColor?r.backgroundColor:"#ccc")+
				'" ><line x1="75" y1="101" x2="125" y2="101" stroke-width="1"  /></g>',
				n+='<text text-anchor="middle" x="'+x+'" y="120" style="font-size: '+r.targetTextSize+'px;" fill="'+
				r.targetColor+'">'+r.targetPercent+"%</text>",n+='<circle cx="100" cy="100" r="69" fill="none" stroke="'+
				r.backgroundColor+'" stroke-width="3" stroke-dasharray="450" transform="rotate(-90,100,100)" />',
				n+='<circle cx="100" cy="100" r="69" fill="none" stroke="'+r.targetColor+
				'" stroke-width="3" stroke-dasharray="'+3.6*r.targetPercent+', 20000" transform="rotate(-90,100,100)" />'),
			null!=r.text&&(r.textBelow?n+='<text text-anchor="middle" x="100" y="190" style="'+r.textStyle+
				'" fill="'+r.textColor+'">'+r.text+"</text>":
				0==r.multiPercentage?n+='<text text-anchor="middle" x="100" y="125" style="'+
				r.textStyle+'" fill="'+r.textColor+'">'+
				r.text+"</text>":1==r.multiPercentage&&(n+='<text text-anchor="middle" x="228" y="65" style="'+
					r.textStyle+'" fill="'+r.textColor+'">'+r.text+"</text>")),
			"none"!=r.icon&&(i='<text text-anchor="middle" x="'+s+'" y="'+a+'" class="icon" style="font-size: '+
				r.iconSize+'px" fill="'+r.iconColor+'">&#x'+r.icon+"</text>"),
			l.addClass("svg-container").append(t('<svg xmlns="" version="1.1" viewBox="0 0 194 186" class="circliful">'+
				n+'<circle cx="100" cy="100" r="57" class="border" fill="'+
				r.fillColor+'" stroke="'+r.backgroundColor+'" stroke-width="'+
				g+'" stroke-dasharray="360" transform="rotate(-90,100,100)" /><circle class="circle" cx="100" cy="100" r="57" class="border" fill="none" stroke="'+
				r.foregroundColor+'" stroke-width="'+
				r.foregroundBorderWidth+'" stroke-dasharray="0,20000" transform="rotate(-90,100,100)" /><circle cx="100" cy="100" r="'+
				r.pointSize+'" fill="'+r.pointColor+'" />'+i+'<text class="timer" text-anchor="middle" x="'+
				x+'" y="'+
				d+'" style="font-size: '+
				r.percentageTextSize+"px; "+
				e+";"+r.textAdditionalCss+'" fill="'+r.fontColor+'">0%</text>'));
			var y=l.find(".circle"),
			f=l.find(".timer"),
			k=30,
			u=0,
			h=r.animationStep,
			C=0,m=0,p=0;if(r.start>0&&r.target>0&&(c=r.start/(r.target/100),p=r.target/100),
				1==r.animation)var w=window.setInterval(function(){
					u>=3.6*c?(window.clearInterval(w),C=1,o()):(u+=h,m+=p),
					u/3.6>=c&&1==C&&(u=3.6*c),m>r.target&&1==C&&(m=r.target),
					y.attr("stroke-dasharray",u+", 20000"),
					1==r.showPercent?f.text(parseInt(u/360*100)+"%"):f.text(m)}.bind(y),k);
				else y.attr("stroke-dasharray",3.6*c+", 20000"),
					1==r.showPercent?f.text(c+"%"):f.text(r.target)})}}(jQuery)
